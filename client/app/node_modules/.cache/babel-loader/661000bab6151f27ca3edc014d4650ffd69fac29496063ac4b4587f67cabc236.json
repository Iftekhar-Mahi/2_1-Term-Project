{"ast":null,"code":"var _jsxFileName = \"E:\\\\Latest\\\\2_1-Term-Project\\\\client\\\\app\\\\src\\\\routes\\\\HomePage.jsx\",\n  _s = $RefreshSig$();\n/*import React, { Fragment, useState, useEffect } from \"react\";\r\nimport \"./Home.css\";\r\nimport CategoryList from \"../components/CategoryList\";\r\nimport UserInformation from \"../routes/userInfo\";\r\n\r\nconst Home = ({ setAuth }) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [district, setDistrict] = useState(\"\");\r\n\r\n  async function getUserInfo() {\r\n    try {\r\n      const response = await fetch(\"http://localhost:3006/dashboard/\", {\r\n        method: \"GET\",\r\n        headers: { token: localStorage.token },\r\n      });\r\n\r\n      const userData = await response.json();\r\n      console.log(userData);\r\n      setFirstName(userData.firstname);\r\n      setLastName(userData.lastname);\r\n      setEmail(userData.email);\r\n      setCity(userData.city);\r\n      setDistrict(userData.district);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      setAuth(false);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault(); // Ensure event object is defined\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <h1\r\n          className=\"home-heading text-center\"\r\n          style={{ fontSize: \"3rem\", color: \"cyan\" }}\r\n        >\r\n          Welcome to Home\r\n        </h1>\r\n\r\n        <h2 className=\"text-center\" style={{ color: \"black\" }}>\r\n          {firstName} {lastName}\r\n        </h2>\r\n\r\n        <UserInformation\r\n          userInfo={{ firstName, lastName, email, city, district }}\r\n          handleLogout={handleLogout} // Pass handleLogout directly\r\n        />\r\n      </div>\r\n      <CategoryList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n*/\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./Home.css\";\nimport CategoryList from \"../components/CategoryList\";\nimport UserInformation from \"../routes/userInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // State to track login status\n  const [userInfo, setUserInfo] = useState({}); // State to store user information\n\n  useEffect(() => {\n    const getUserInfo = async () => {\n      try {\n        const response = await fetch(\"http://localhost:3006/dashboard/\", {\n          method: \"GET\",\n          headers: {\n            token: localStorage.token\n          }\n        });\n        const userData = await response.json();\n        console.log(userData);\n\n        // Update user information if logged in\n        if (response.ok) {\n          setIsLoggedIn(true);\n          setUserInfo(userData);\n        }\n      } catch (err) {\n        console.error(err.message);\n      }\n    };\n    getUserInfo();\n  }, []);\n  const handleLogout = () => {\n    try {\n      localStorage.removeItem(\"token\");\n      setIsLoggedIn(false); // Update login status\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"home-heading text-center\",\n        style: {\n          fontSize: \"3rem\",\n          color: \"cyan\"\n        },\n        children: \"Welcome to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), isLoggedIn &&\n      /*#__PURE__*/\n      // Render user information if logged in\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center\",\n          style: {\n            color: \"black\"\n          },\n          children: [userInfo.firstName, \" \", userInfo.lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UserInformation, {\n          userInfo: userInfo,\n          handleLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CategoryList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"XwfzthjZ0TXNjgEuD2L43VKdfUI=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","CategoryList","UserInformation","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","isLoggedIn","setIsLoggedIn","userInfo","setUserInfo","getUserInfo","response","fetch","method","headers","token","localStorage","userData","json","console","log","ok","err","error","message","handleLogout","removeItem","children","className","style","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","firstName","lastName","_c","$RefreshReg$"],"sources":["E:/Latest/2_1-Term-Project/client/app/src/routes/HomePage.jsx"],"sourcesContent":["/*import React, { Fragment, useState, useEffect } from \"react\";\r\nimport \"./Home.css\";\r\nimport CategoryList from \"../components/CategoryList\";\r\nimport UserInformation from \"../routes/userInfo\";\r\n\r\nconst Home = ({ setAuth }) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [district, setDistrict] = useState(\"\");\r\n\r\n  async function getUserInfo() {\r\n    try {\r\n      const response = await fetch(\"http://localhost:3006/dashboard/\", {\r\n        method: \"GET\",\r\n        headers: { token: localStorage.token },\r\n      });\r\n\r\n      const userData = await response.json();\r\n      console.log(userData);\r\n      setFirstName(userData.firstname);\r\n      setLastName(userData.lastname);\r\n      setEmail(userData.email);\r\n      setCity(userData.city);\r\n      setDistrict(userData.district);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      setAuth(false);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault(); // Ensure event object is defined\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <h1\r\n          className=\"home-heading text-center\"\r\n          style={{ fontSize: \"3rem\", color: \"cyan\" }}\r\n        >\r\n          Welcome to Home\r\n        </h1>\r\n\r\n        <h2 className=\"text-center\" style={{ color: \"black\" }}>\r\n          {firstName} {lastName}\r\n        </h2>\r\n\r\n        <UserInformation\r\n          userInfo={{ firstName, lastName, email, city, district }}\r\n          handleLogout={handleLogout} // Pass handleLogout directly\r\n        />\r\n      </div>\r\n      <CategoryList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n*/\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./Home.css\";\r\nimport CategoryList from \"../components/CategoryList\";\r\nimport UserInformation from \"../routes/userInfo\";\r\n\r\nconst Home = () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // State to track login status\r\n  const [userInfo, setUserInfo] = useState({}); // State to store user information\r\n\r\n  useEffect(() => {\r\n    const getUserInfo = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:3006/dashboard/\", {\r\n          method: \"GET\",\r\n          headers: { token: localStorage.token },\r\n        });\r\n\r\n        const userData = await response.json();\r\n        console.log(userData);\r\n\r\n        // Update user information if logged in\r\n        if (response.ok) {\r\n          setIsLoggedIn(true);\r\n          setUserInfo(userData);\r\n        }\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n    };\r\n\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      setIsLoggedIn(false); // Update login status\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <h1\r\n          className=\"home-heading text-center\"\r\n          style={{ fontSize: \"3rem\", color: \"cyan\" }}\r\n        >\r\n          Welcome to Home\r\n        </h1>\r\n\r\n        {isLoggedIn && ( // Render user information if logged in\r\n          <>\r\n            <h2 className=\"text-center\" style={{ color: \"black\" }}>\r\n              {userInfo.firstName} {userInfo.lastName}\r\n            </h2>\r\n            <UserInformation\r\n              userInfo={userInfo}\r\n              handleLogout={handleLogout}\r\n            />\r\n          </>\r\n        )}\r\n      </div>\r\n      <CategoryList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}