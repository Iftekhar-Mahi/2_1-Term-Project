{"ast":null,"code":"/*import React, { Fragment, useState, useEffect } from \"react\";\r\nimport \"./Home.css\";\r\nimport CategoryList from \"../components/CategoryList\";\r\nimport UserInformation from \"../routes/userInfo\";\r\n\r\nconst Home = ({ setAuth }) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [district, setDistrict] = useState(\"\");\r\n\r\n  async function getUserInfo() {\r\n    try {\r\n      const response = await fetch(\"http://localhost:3006/dashboard/\", {\r\n        method: \"GET\",\r\n        headers: { token: localStorage.token },\r\n      });\r\n\r\n      const userData = await response.json();\r\n      console.log(userData);\r\n      setFirstName(userData.firstname);\r\n      setLastName(userData.lastname);\r\n      setEmail(userData.email);\r\n      setCity(userData.city);\r\n      setDistrict(userData.district);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      setAuth(false);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault(); // Ensure event object is defined\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <h1\r\n          className=\"home-heading text-center\"\r\n          style={{ fontSize: \"3rem\", color: \"cyan\" }}\r\n        >\r\n          Welcome to Home\r\n        </h1>\r\n\r\n        <h2 className=\"text-center\" style={{ color: \"black\" }}>\r\n          {firstName} {lastName}\r\n        </h2>\r\n\r\n        <UserInformation\r\n          userInfo={{ firstName, lastName, email, city, district }}\r\n          handleLogout={handleLogout} // Pass handleLogout directly\r\n        />\r\n      </div>\r\n      <CategoryList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n*/","map":{"version":3,"names":[],"sources":["E:/Latest/2_1-Term-Project/client/app/src/routes/HomePage.jsx"],"sourcesContent":["/*import React, { Fragment, useState, useEffect } from \"react\";\r\nimport \"./Home.css\";\r\nimport CategoryList from \"../components/CategoryList\";\r\nimport UserInformation from \"../routes/userInfo\";\r\n\r\nconst Home = ({ setAuth }) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [district, setDistrict] = useState(\"\");\r\n\r\n  async function getUserInfo() {\r\n    try {\r\n      const response = await fetch(\"http://localhost:3006/dashboard/\", {\r\n        method: \"GET\",\r\n        headers: { token: localStorage.token },\r\n      });\r\n\r\n      const userData = await response.json();\r\n      console.log(userData);\r\n      setFirstName(userData.firstname);\r\n      setLastName(userData.lastname);\r\n      setEmail(userData.email);\r\n      setCity(userData.city);\r\n      setDistrict(userData.district);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      localStorage.removeItem(\"token\");\r\n      setAuth(false);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault(); // Ensure event object is defined\r\n    logout();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <h1\r\n          className=\"home-heading text-center\"\r\n          style={{ fontSize: \"3rem\", color: \"cyan\" }}\r\n        >\r\n          Welcome to Home\r\n        </h1>\r\n\r\n        <h2 className=\"text-center\" style={{ color: \"black\" }}>\r\n          {firstName} {lastName}\r\n        </h2>\r\n\r\n        <UserInformation\r\n          userInfo={{ firstName, lastName, email, city, district }}\r\n          handleLogout={handleLogout} // Pass handleLogout directly\r\n        />\r\n      </div>\r\n      <CategoryList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n*/"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}